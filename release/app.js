var __t;__t=function(ns){var curr,index,part,parts,_i,_len;curr=null,parts=[].concat=ns.split(".");for(index=_i=0,_len=parts.length;_i<_len;index=++_i){part=parts[index];if(curr===null){curr=eval(part);continue}curr[part]==null?curr=curr[part]={}:curr=curr[part]}return curr};var Build,CitrusApp,CitrusUseCase,InMemoryStorage,Organization,Project,WebGlue,WebGui,__bind=function(a,b){return function(){return a.apply(b,arguments)}};_.defaults(this,{Before:function(a,b,c){return YouAreDaBomb(a,b).before(c)},BeforeAnyCallback:function(a,b,c){return YouAreDaBomb(a,b).beforeAnyCallback(c)},After:function(a,b,c){return YouAreDaBomb(a,b).after(c)},Around:function(a,b,c){return YouAreDaBomb(a,b).around(c)}}),CitrusUseCase=function(){function a(){this.selectBuild=__bind(this.selectBuild,this),this.selectProject=__bind(this.selectProject,this),this.start=__bind(this.start,this),this.setInitialData=__bind(this.setInitialData,this),this.organization=null,this.currentProject=null,this.currentBuild=null}return a.prototype.setInitialData=function(a){this.organization=a},a.prototype.start=function(){return this.selectProject(this.organization.projects[0]),this.selectBuild(this.currentProject.builds[0])},a.prototype.selectProject=function(a){return console.log("selecting project: "+a.name),this.currentProject=a},a.prototype.selectBuild=function(a){return console.log("selecting build: "+a.id),this.currentBuild=a},a}(),Organization=function(){function a(a){this.name=a,this.addProject=__bind(this.addProject,this),this.projects=[]}return a.prototype.addProject=function(a){var b;return b=new Project(a),this.projects.push(b),b},a}(),Project=function(){function a(a){this.name=a,this.addBuild=__bind(this.addBuild,this),this.builds=[]}return a.prototype.addBuild=function(a,b){return this.builds.push(new Build(a,b))},a}(),Build=function(){function a(a,b){this.id=a,this.changeName=b}return a}(),WebGui=function(){function a(){this.showBuilds=__bind(this.showBuilds,this)}return a.prototype.showBuilds=function(a){var b,c,d,e,f,g,h,i,j=this;d=$("#item-template").html(),f=Handlebars.compile(d),b={tasks:a.map(function(a){return{id:a.id,content:a.content,completed:a.completed}})},c=f(b),$("#todo-list").html(c),i=[];for(g=0,h=a.length;g<h;g++)e=a[g],i.push(function(a){return $("#destroy-task-"+a.id).click(function(){return j.destroyClicked(a.id)}),$("#complete-task-button-"+a.id).click(function(){return j.completeClicked(a.id)})}(e));return i},a}(),WebGlue=function(){function a(a,b,c){this.useCase=a,this.gui=b,this.storage=c,this.loadData=__bind(this.loadData,this),Before(this.useCase,"start",this.loadData)}return a.prototype.loadData=function(){return this.useCase.setInitialData(this.storage.loadData())},a}(),InMemoryStorage=function(){function a(){this.loadData=__bind(this.loadData,this)}return a.prototype.loadData=function(){var a,b;return b=new Organization("DRUG"),a=b.addProject("Citrus"),a.addBuild("Build 13","[Shared] Game has awarded prizes via players not via prizes. Prizes can be deleted and game still has awarded prizes"),b},a}(),CitrusApp=function(){function a(){var a,b,c,d;d=new CitrusUseCase,b=new WebGui,c=new InMemoryStorage,a=new WebGlue(d,b,c),d.start()}return a}(),new CitrusApp